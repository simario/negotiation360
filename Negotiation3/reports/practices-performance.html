<!doctype html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/style.css" />
  <style type="text/css">

    * {
      padding: 0;
      margin: 0;
      border: 0;
    }

    body {
        background-position: top left;
        background-repeat: no-repeat;
        background-size: 100%;
	    background-color: #efeff4
    }
	canvas{
	  width: 100% !important;
      max-width: 320px;
      height: 100% !important;
	}
	.card {
	  padding:0.5rem 1rem;
	  box-shadow:0 1px 2px #aaa;
	  background:white;
	  margin: 1rem 1rem;
	  border-radius:1px;
	  user-select:none;
	  animation:fly-in-from-left .5s 1s ease both;
	  transform-origin:top left;
	}
	.card:nth-child(even){
	  animation-name:fly-in-from-right;
	  animation-delay:1.1s;
	 transform-origin:top right;
	}

	@keyframes fly-in-from-left {
	  from {
	    transform:translateY(15rem) rotate(15deg);
	    opacity:0;
	  }
	}

	@keyframes fly-in-from-right {
	  from {
	    transform:translateY(15rem) rotate(-15deg);
	    opacity:0;
	  }
	}

	.card:after {
	  position:absolute;
	  font-size:.9rem;
	  top:1.5rem;
	  right:1rem;
	  border:thin solid gray;
	  color:gray;
	  width:1rem;
	  line-height:1rem;
	  text-align:center;
	  border-radius:50%;
	  pointer-events:none;
	}

	h1 {
	  font-size:2rem;
	  font-weight:200;
	  margin-top:11px;
	}
	  strong {
	    font-weight:500;
	    color:#ff9f33;
	  }

	h2 {
	  font-size:1.25rem;
	  color:#ff9f33;
	  font-weight:400;
	  margin-top:0px;
	}


  </style>


</head>
<body>	
	<!--<div>
		<p style="margin: 20px; font-size: 14px;">Sometimes your scorecard for a particular negotiation will closely match your self-assessment profile. That shouldn't be surprising, since your profile reflects your general tendencies. But other times it may look very different. Here's why:</p>

		<ol style="margin: 20px 20px 20px 40px; font-size: 14px;">
			<li>You may be more effective negotiating with certain types of people than with others.</li><br>
			<li>Likewise, it may depend on the situation. Perhaps you're stronger negotiating on behalf of your organization than advocating for yourself.</li><br>
			<li>Finally, these scorecard questions were somewhat different from those in the self-assessment. Here you were free to score yourself on each skill independently without making tradeoffs for the other items.</li>
		</ol>
		
	</div> -->
	<section class="card">
		<h1>Agreement</h1>
		<canvas id="canvas"></canvas>
	</section>

	<section class="card">
		<h1>Negotiation Type</h1>
		<canvas id="canvas2"></canvas>
	</section>

	<section class="card">
		<h1>Importance &amp; Satisfaction</h1>
		<canvas id="canvas3"></canvas>
	</section>

	<section class="card">
		<h1>Profile Metrics</h1>
		<canvas id="canvas4"></canvas>
	</section>


<!--	<div class="alert alert-info" style="margin: 20px;">
		<div class="row">
			<div class="col-xs-1" style="margin-right:10px">
				<span data-icon="&#xe030;" style="font-size: 24px"></span>
			</div>
			<div class="col-xs-10" style="font-weight:400; font-size: 14px; line-height:1.14285714285714">
				Take a moment to review your answers, plus your scorecard profile, and reflect more broadly about how this negotiation unfolded. When youâ€™re done, continue on to the next section.
			</div>
		</div>
	</div> -->
	
	<div style="height:100px">
	</div>
    <div id="debug" style="color:#000;"></div>
        
	
  <script src="jquery.js"></script>
  <script src="Chart.js"></script>
  <script src="legend.js"></script>
  <script>

	$(function () {

	    $(document).ready(function () {
                          /*
                           var numScorecards = 5;
                           var yesCount = 2;
                           var noCount = 2;
                           var notYetCount = 1;
                           var proOutsidePartiesCount = 1;
                           var proColleaguesCount = 2;
                           var personalCount = 1;
                           var communityCount = 1;
                           var familyCount = 0;
                           var dates = [ '10/28/14', '10/28/14', '10/28/14', '10/28/14', '10/28/14'];
                           var importance = [ 50, 99, 57, 68, 68];
                           var satisfaction = [ 50, 1, 12, 20, 30];
                           var names = [ 'sadf', 'My Fourth Negotiation', 'My Third Negotiation', 'My Second Negotiation', 'My First Negotiation'];
                           var scorecardsUsed = 0;
                           var averageCreatingValue = 1.000000;
                           var averageEmpathy = 1.000000;
                           var averageClaimingValue = 1.000000;
                           var averageAssert = 2.000000;
                           */
                          
          %@
          
                          
                          
          var debug ='numScorecards = ' + numScorecards + '<br/>' +
            'yesCount = ' + yesCount + '<br/>' +
            'noCount = ' + noCount + '<br/>' +
            'notYetCount = ' + notYetCount + '<br/>' +
            'proOutsidePartiesCount = ' + proOutsidePartiesCount + '<br/>' +
            'proColleaguesCount = ' + proColleaguesCount + '<br/>' +
            'personalCount = ' + personalCount + '<br/>' +
            'communityCount = ' + communityCount + '<br/>' +
            'familyCount = ' + familyCount + '<br/>' +
            'dates = ' + dates + '<br/>' +
            'importance = ' + importance + '<br/>' +
            'satisfaction = ' +  satisfaction + '<br/>' +
            'names = ' + names + '<br/>' +
            'scorecardsUsed = ' + scorecardsUsed + '<br/>' +
            'averageCreatingValue = ' + averageCreatingValue + '<br/>' +
            'averageEmpathy = ' + averageEmpathy + '<br/>' +
            'averageClaimingValue = ' + averageClaimingValue + '<br/>' +
            'averageAssert = ' + averageAssert;

                          $('#debug').html(debug);
                          
                          
                          

	        // Build the chart
			if(!!(window.addEventListener)) window.addEventListener('DOMContentLoaded', main);
			else window.attachEvent('onload', main);

			function main() {
			    agreementPie();
			    typePie();
			    importanceBar();
			    metricBar();
			}

			function agreementPie() {
			var agreementPieData = [
					{
						value: 3,
						color:"#ff9f33",
						highlight: "#FFB25C",
						label: "Yes",
					},
					{
						value: 3,
						color: "#445ae1",
						highlight: "#697BE7",
						label: "No"
					},
					{
						value: 3,
						color: "#2ee478",
						highlight: "#58E993",
						label: "Not Yet"
					}

				];

				    var ctx = document.getElementById("canvas").getContext("2d");
				    new Chart(ctx).Pie(agreementPieData);

				    legend(document.getElementById("agreementPieLegend"), agreementPieData);
				}

			function typePie() {
			var typePieData = [
					{
						value: 3,
						color:"#ff9f33",
						highlight: "#FFB25C",
						label: "Prof (Outside)",
					},
					{
						value: 3,
						color: "#445ae1",
						highlight: "#697BE7",
						label: "Prof (Inside)"
					},
					{
						value: 3,
						color: "#2ee478",
						highlight: "#58E993",
						label: "Personal"
					},
					{
						value: 3,
						color: "#DF5353",
						highlight: "#e57575",
						label: "Community"
					},
					{
						value: 3,
						color: "#aaeeee",
						highlight: "#bbf1f1",
						label: "Family"
					}

				];

				    var ctx = document.getElementById("canvas2").getContext("2d");
				    new Chart(ctx).Pie(typePieData);

				    legend(document.getElementById("typePieLegend"), typePieData);
				}

			function importanceBar() {

				var importanceBarData = {
					labels : ["10/10","10/12","10/14","10/16","10/18"],
					datasets : [
						{
							fillColor : "rgba(220,220,220,0.5)",
							strokeColor : "rgba(220,220,220,0.8)",
							highlightFill: "rgba(220,220,220,0.75)",
							highlightStroke: "rgba(220,220,220,1)",
							data : [2,4,2,4,2]
						},
						{
							fillColor : "rgba(151,187,205,0.5)",
							strokeColor : "rgba(151,187,205,0.8)",
							highlightFill : "rgba(151,187,205,0.75)",
							highlightStroke : "rgba(151,187,205,1)",
							data : [4,2,4,2,4]
						}
					]

				}
				    var ctx = document.getElementById("canvas3").getContext("2d");
				    new Chart(ctx).Bar(importanceBarData);

				    legend(document.getElementById("importanceBarLegend"), importanceBarData);
				}

			function metricBar() {

				var metricBarData = {
					labels : ["10/10","10/12","10/14","10/16","10/18"],
					datasets : [
						{
							fillColor : "rgba(220,220,220,0.5)",
							strokeColor : "rgba(220,220,220,0.8)",
							highlightFill: "rgba(220,220,220,0.75)",
							highlightStroke: "rgba(220,220,220,1)",
							data : [2,4,2,4,2]
						},
						{
							fillColor : "rgba(151,187,205,0.5)",
							strokeColor : "rgba(151,187,205,0.8)",
							highlightFill : "rgba(151,187,205,0.75)",
							highlightStroke : "rgba(151,187,205,1)",
							data : [4,2,4,2,4]
						}
					]

				}
				    var ctx = document.getElementById("canvas4").getContext("2d");
				    new Chart(ctx).Bar(metricBarData);

				    legend(document.getElementById("metricBarLegend"), metricBarData);
				}
		});

	});

  </script>
</body>
</html>
